<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	window.onload=function(){
		fetch('dept/') //then은 오류가 난다면 기존엔 그 다음도 처리가 안되지만 이건 그 다음이 실행될 수 있도로 함
			.then(function(res){return res.json();})
			.then(function(data){
				var msg="";
				for(var obj of data){
					msg+='<tr>'
					msg+='<td>'+obj.deptno+'</td>';
					msg+='<td>'+obj.dname+'</td>';
					msg+='<td>'+obj.loc+'</td>';
					msg+='</tr>';
				}
				document.querySelector('tbody').innerHTML=msg;
			});
	};
</script>
</head>
<body>
	<table class="table">
		<thead>
			<tr>
				<th>deptno</th>
				<th>dname</th>
				<th>loc</th>
			</tr>
		</thead>
	</table>
</body>
</html>