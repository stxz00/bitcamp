<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	table tr>th,table tr>td{
		border:1px solid gray;
	}
	table{
		width: 600px;
		border-collapse: collapse;
	}
	table tr>th:first-child{
		width: 100px;
	}
</style>
<script type="text/javascript">
	var table,xhr,data,tbody;
	window.onload=function(){
		table=document.querySelector("table");
		list();
	}
	function list(){
		xhr=new XMLHttpRequest();
		xhr.onreadystatechange=listCallBack;
		xhr.open('get','ex09.jsp');
		xhr.send();
	}
	function listCallBack(){
		if(xhr.readyState==4&&xhr.status==200){
			data=xhr.responseXML;
			var listNo=data.querySelectorAll('deptno');
			var listName=data.querySelectorAll('dname');
			var listLoc=data.querySelectorAll('loc');
			var size=data.querySelectorAll('row').length;
			console.log(size,listNo,listName,listLoc);
			tbody='<tbody>';
			for(var i=0; i<size; i++){
				tbody+='<tr>';
				tbody+='<td>'+listNo[i].innerHTML+'</td>';
				tbody+='<td>'+listName[i].innerHTML+'</td>';
				tbody+='<td>'+listLoc[i].innerHTML+'</td>';
				tbody+='</tr>';
			}
			tbody+='<tbody>';
			table.innerHTML=table.innerHTML+tbody;
		}
	}
</script>
</head>
<body>
	<h1>dept table list</h1>
	<table>
		<thead>
			<tr>
				<th>deptno</th>
				<th>dname</th>
				<th>loc</th>
			</tr>
		</thead>
	</table>
	<a href="ex11.html">[입력1]</a>
	<a href="#">[입력2]</a>
</body>
</html>